<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Callbacks</title>

  <link rel="stylesheet" href="loader.css" type="text/css" />
</head>
<body>

<div class="loader">Loading...</div>

<ul id="posts">

</ul>

<script src="jquery-3.2.1.js"></script>

<script>
	function fetchPostsForSubreddit(subreddit) {
		return $.getJSON('https://www.reddit.com/r/' + subreddit + '.json');
	}

	fetchPostsForSubreddit('javascript').then(function(results) {
  		$('.loader').hide();
      results.data.children.forEach(function(child) {
        jQuery('<li/>', {
  				text: child.data.title
  			}).appendTo('#posts');
      });
	});
</script>
